<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>	ì˜¤ëŠ˜, ê´œì°®ì•˜ë‚˜ìš”? ğŸŒ±</title>
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background-color: #fef8f8;
      background-image: url('https://i.ibb.co/MyLm7bWJ/Chat-GPT-Image-2025-4-18-12-01-33.png');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      background-color: #fef8f8;
      color: #333;
      text-align: center;
      padding: 50px;
    }
    .box {
      background: rgba(255, 255, 255, 0.92);
      padding: 30px;
      border-radius: 20px;
      max-width: 600px;
      margin: auto;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }
    h1 {
      font-size: 1.8rem;
      margin-bottom: 10px;
    }
    .weather {
      font-size: 1.1rem;
      margin-bottom: 25px;
      line-height: 1.6;
    }
    .content {
      text-align: left;
      font-size: 1rem;
      margin-top: 30px;
    }
    .content p {
      margin: 8px 0;
    }
  </style>
</head>
<body>
  <div class="box">
    <h1>ğŸŒ¸ ì˜¤ëŠ˜ì˜ ê°ì •, ë‚˜ë¥¼ ìœ„í•œ ë£¨í‹´ ğŸŒ¼</h1>
    <div id="weather" class="weather">ë‚ ì”¨ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
    <div id="content" class="content"></div>
  </div>

  <script>
    const apiKey = "ae2dd5af466f227db77a00f5aac8972d"; 

    const contentByWeather = {
      clear: {
        ìš´ë™: ["ëŸ¬ë‹ 20ë¶„ + ìŠ¤íŠ¸ë ˆì¹­", "ê³µì› ì‚°ì±…", "ìš”ê°€ ë£¨í‹´", "ìì „ê±° íƒ€ê¸°", "ëŒ„ìŠ¤ ë‹¤ì´ì–´íŠ¸ ì˜ìƒ ë”°ë¼í•˜ê¸°"],
        ìŒì•…: ["ë¹Œë¦¬ ì•„ì¼ë¦¬ì‹œ â€“ My Future", "ì„ ìš°ì •ì•„ â€“ ë„ë§ê°€ì"],
        ìŒì‹: ["ì‹œë¦¬ì–¼ + ê³¼ì¼ + ìš”ê±°íŠ¸", "ìƒëŸ¬ë“œ + ë‹­ê°€ìŠ´ì‚´", "ì•„ë³´ì¹´ë„ ì˜¤í”ˆ ìƒŒë“œìœ„ì¹˜", "ê³¼ì¼ ì£¼ìŠ¤", "ê·¸ë¦­ìš”ê±°íŠ¸ë³¼"],
        ìƒ‰: ["ë…¸ë€ìƒ‰", "í•˜ëŠ˜ìƒ‰", "ì—°ë‘ìƒ‰", "ë¼ë²¤ë”", "ë¯¼íŠ¸"],
        ìš´ì„¸: [
          "ì˜¤ëŠ˜ì€ ë‹¹ì‹ ì´ ë¹›ë‚˜ëŠ” ë‚ ì´ì—ìš”.",
          "ìƒˆë¡œìš´ ê¸°íšŒë¥¼ ì¡ì„ ì¢‹ì€ ë‚ ì´ì—ìš”.",
          "ê¸°ë¶„ ì¢‹ì€ ì¼ì´ ìƒê¸¸ ìš´ì„¸!",
          "ì—ë„ˆì§€ë¥¼ í‘œí˜„í•´ë³´ì„¸ìš”.",
          "ì›ƒëŠ” ì–¼êµ´ì— ë³µì´ ì™€ìš” :)"
        ],
        ê°ì‚¬ì¼ê¸°: ["ì˜¤ëŠ˜ í•˜ëŠ˜ì„ ë³¸ ìˆœê°„", "ê±·ëŠ” ë™ì•ˆì˜ ê¸°ë¶„", "ë”°ëœ»í•œ í–‡ì‚´"]
      },
      rain: {
        ìš´ë™: ["ì‹¤ë‚´ ìš”ê°€ + ëª…ìƒ", "ì „ì‹  ìŠ¤íŠ¸ë ˆì¹­", "í•„ë¼í…ŒìŠ¤", "í™ˆíŠ¸ 10ë¶„", "ê³„ë‹¨ ì˜¤ë¥´ê¸°"],
        ìŒì•…: ["ì´ì†Œë¼ â€“ ë°”ëŒì´ ë¶„ë‹¤", "ì•„ì´ìœ  â€“ Rain Drop", "ë°±ì˜ˆë¦° â€“ Bye bye my blue"],
        ìŒì‹: ["ìš°ë™", "ê°ìì „ + ë§‰ê±¸ë¦¬", "ë°”ë‚˜ë‚˜ìš°ìœ ì™€ ì¿ í‚¤", "ìŠ¤í”„ + í† ìŠ¤íŠ¸", "ì¹´ë ˆë¼ì´ìŠ¤"],
        ìƒ‰: ["ë‚¨ìƒ‰", "ì§„íšŒìƒ‰", "ì²­ë¡", "ì™€ì¸ìƒ‰", "í°ìƒ‰"],
        ìš´ì„¸: [
          "ê°ì •ì„ ê·¸ëŒ€ë¡œ ëŠê»´ë„ ê´œì°®ì•„ìš”.",
          "ì ê¹ì˜ ì—¬ìœ ê°€ íšŒë³µì„ ì¤˜ìš”.",
          "ì˜¤ëŠ˜ì€ ë¬´ë¦¬í•˜ì§€ ë§ì•„ìš”.",
          "ë¹„ ì˜¤ëŠ” ë‚ ì—” ë‚´ë©´ì„ ëŒì•„ë´ìš”."
        ],
        ê°ì‚¬ì¼ê¸°: ["ì°¨ í•œì” ë§ˆì‹  ì—¬ìœ ", "ì°½ë°– í’ê²½", "ì¡°ìš©í•œ ì‹œê°„"]
      }
    };

    const icons = {
      ìš´ë™: "ğŸ’ª ìš´ë™",
      ìŒì•…: "ğŸ§ ìŒì•…",
      ìŒì‹: "ğŸ½ ìŒì‹",
      ìƒ‰: "ğŸ¨ í–‰ìš´ì˜ ìƒ‰",
      ìš´ì„¸: "ğŸ”® ì˜¤ëŠ˜ì˜ ìš´ì„¸",
      ê°ì‚¬ì¼ê¸°: "ğŸ““ ê°ì‚¬ì¼ê¸° ì œì•ˆ"
    };

    function pickRandom(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    function pickRandomKeys(obj, count) {
      const keys = Object.keys(obj);
      const shuffled = keys.sort(() => 0.5 - Math.random());
      return shuffled.slice(0, count);
    }

    async function getWeather(lat, lon) {
      const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&lang=kr`);
      return await res.json();
    }

    navigator.geolocation.getCurrentPosition(async (pos) => {
      const { latitude, longitude } = pos.coords;
      try {
        const data = await getWeather(latitude, longitude);
        const weatherCode = data.weather[0].main.toLowerCase();
        const tempC = (data.main.temp - 273.15).toFixed(1);
        const city = data.name || "í˜„ì¬ ìœ„ì¹˜";

        document.getElementById("weather").innerHTML =
          `ğŸ“ ${city} | ${data.weather[0].description} | ${tempC}Â°C`;

        const categorySet = contentByWeather[weatherCode] || contentByWeather["clear"];
        const pickedCategories = pickRandomKeys(categorySet, 3);
        const container = document.getElementById("content");

        pickedCategories.forEach(cat => {
          const value = pickRandom(categorySet[cat]);
          container.innerHTML += `<p><strong>${icons[cat]}:</strong> ${value}</p>`;
        });

      } catch {
        document.getElementById("weather").innerText = "ë‚ ì”¨ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆì–´ìš” ğŸ˜¢";
      }
    }, () => {
      document.getElementById("weather").innerText = "ìœ„ì¹˜ ì •ë³´ ì‚¬ìš©ì´ ì°¨ë‹¨ë˜ì–´ ìˆì–´ìš”.";
    });
  </script>
</body>
</html>
